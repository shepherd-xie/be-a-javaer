## 线程池

---

线程池是预先创建线程的一种技术。线程池在还没有任务到来之前，创建一定数量的线程，放入空闲队列中，然后对这些资源进行重复使用。减少频繁的创建和销毁对象。

jdk1.5版本以上提供了现成的线程池。

java里面线程池的顶级接口是Executor，是一个执行线程的工具。

线程池接口是ExecutorService。

java.util.concurrent：并发编程中很常用的实用工具类

**Executor接口：**

执行已提交的Runnable任务的对象。

**ExecutorService接口：**

Executor提供了管理终止的方法，以及可以跟踪一个或多个异步任务执行状况而生成Future的方法。

**Execute类：**

此包中所定义的Executor、ExecutorService等的工厂和实用方法。

在Executors类里面提供了一些静态工厂，生成一些常用的线程池。

**newSingleThreadExecutor：**创建一个单线程的线程池。这个线程池只有一个线程在工作，也就是相当于单线程串行执行所有任务。如果这个唯一的线程因为异常结束，那么会有一个新的线程来替代它。此线程保证所有任务的执行顺序按照任务的提交顺序执行。

**newFixedThreadPool：**创建固定大小的线程池。每次提交体格任务就创建一个线程。直到线程达到线程池的最大大小。线程池的大小一旦达到最大值就会保持不变，如果某个线程因为执行异常而结束，那么线程池会补充一个新线程。

**newCachedThreadPool：**创建一个可缓存的线程池。如果线程池的大小超过了处理任务所需要的线程，那么就会回收部分空闲（60秒不执行任务）的线程，当任务数增加时，此线程池又可以智能的添加新线程来处理任务。此线程不会对线程池的大小做限制，线程池的大小完全依赖与操作系统（或者说JVM）能够创建的最大线程大小。

**newScheduledThreadPool：**创建一个无限大小的线程池。此线程池支持定时以及周期性执行任务的需求。