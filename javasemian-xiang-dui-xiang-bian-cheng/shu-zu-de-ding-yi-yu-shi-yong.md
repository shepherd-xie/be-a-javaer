## 数组的定义与使用

---

在所有的开发之中，数组是一个非常重要的概念，所有项目都使用数组，但是它使用的数组与本次讲解的内容是有出入的，后面会更换数组的使用形式，但是其基本概念不会被改变。

### 数组的基本概念

数组指的就是一组相关变量的集合。例如：如果说现在想要定义100个整形变量，如果按照传统的思路，可能这样定义：int i1,i2,...i100;,一共写100个变量。

以上的形式的确可以满足技术要求，但是这里有一个，这100多个变量没有任何的逻辑的控制关系，完全独立，就会出现对象不方便管理的情况。那么在这种情况下就可以利用数组来解决此类问题，而数组本身也属于引用数据类型，

所以数组的定义语法如下：

* 声明并开辟数组：数据类型 数组名称\[\] = new 数据类型\[长度\];（或书写为此类形式：数据类型\[\] 数组名称 =new 数据类型\[长度\];）
* 分步完成：
  * 声明数组：数据类型 数组名称\[\] = null;
  * 开辟数组：数据名称 = new 数据类型\[长度\];

当定义数组后，可以采用“数组名称\[下标\|索引\]”的形式进行访问，但是所有数组的下标都是从0开始的，即：如果是3个长度的数组，那么下标的范围：0~2（0,1,2一共是三个）。如果访问的时候超过了数组的允许下标的长度，那么会出现数组越界异常（ArrayIndexOutOfBoundsException）。

以上给出的数组定义结构使用的是动态初始化的方式，即：数组会首先开辟内存空间，但是数组中的内容都是其对应数据的默认值。

由于数组是一种顺序的结构，并且数组的长度都是固定的，那么可以使用循环的方式输出，很明显需要知道for循环，而且在Java里面为了方便数组的输出提供有一个“数组名称.length”的属性，可以取得数组长度。

**范例：**定义数组

```java
public class MainClass {
    public static void main(String[] args) {
        //声明并开辟了一个3个长度的数组
        int date[] = new int[3]; 
        date[0] = 10;
        date[1] = 20;
        date[2] = 30;
        for (int i = 0; i < date.length; i ++) {
            System.out.println(date[i]);
        }
    }
}
```

虽然数组的操作比较简单，但是其最麻烦的问题在于，它也属于引用数据类型，所以以上的代码依然需要牵扯到内存分配，与对象保存唯一的区别在于：对象中的堆内存保存的是属性，而数据中的堆内存保存的是一组信息。![](/assets/import 2.3-1.png)以上使用的是第一种数组定义的语法，那么下面更换第二种；

```java
public class MainClass {
    public static void main(String[] args) {
        int date[] = null;    //声明数组    
        date = new int[3];     //开辟空间
        date[0] = 10;
        date[1] = 20;
        date[2] = 30;
        for (int i = 0; i < date.length; i ++) {
            System.out.println(date[i]);
        }
    }
}
```

下面还是以内存关系来描述以上的关系。![](/assets/import 2.3-2.png)既然数组属于引用数据类型，那么数组一定可以发生引用传递。

**范例：**数组的引用传递

```java
public class MainClass {
    public static void main(String[] args) {
        int date[] = new int[3];     
        date[0] = 10;
        date[1] = 20;
        date[2] = 30;
        int temp[] = date;
        temp[0] = 99;
        for (int i = 0; i < date.length; i ++) {
            System.out.println(date[i]);
        }
    }
}
```

![](/assets/import 2.3-3.png)

以上数组的定义格式严格来讲是属于动态初始化，它的操作特点：先开辟数组空间，而后为数组中的的内容进行赋值。那么在数组定义之中还提供有静态初始化的操作，即：数组定义的同时就设置好了相应的数据内容，格式如下：

* 格式一：简化格式：数据类型 数组名称 \[\] ={值, 值, ...};

* 格式二：完整格式：数据类型 数组名称 \[\] = new 数据类型 \[\] {值, 值, ...};

**范例：**数组的静态初始化

```java
public class MainClass {
    public static void main(String[] args) {
        int date[] = new int [] {1, 2, 3, 4, 5};
        for (int i = 0; i < date.length; i ++) {
            System.out.println(date[i]);
        }
    }
}
```

在实际的工作之中，数组是会存在的，但是它的内容大部分情况下都是通过传递的数据而动态生成的，很少会出现这种先开辟数组而后去使用的情况。

虽然数组支持顺序的数据访问操作，但是数组有一个最大的缺点 —— 长度不能够被改变，所以正因为如此，在开发之中，不会直接去应用数组，但是会使用到数组的概念。

### 二维数组（了解）

在之前的数组里面只有一个“\[\]”，所以此类数组就是一个普通的数组，或者再麻烦一点可以把它称为一维数组，如果现在想要描述更多的数据，可以使用二维数组，后面有两个“\[\]”。

一维数组严格来讲就是一行，类似于如下的形式：

| 索引 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| 数据 | 90 | 80 | 70 | 60 | 50 | 40 | 30 | 20 |

如果在一维数组里面找到一个数据，只需要确定一个索引就够了。

二维数组就是一张数据表，有行有列，类似于如下的形式：

| 索引 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| 0 | 90 | 80 | 70 | 60 | 50 | 40 | 30 | 20 |
| 1 | 91 | 81 | 71 | 61 | 51 | 41 | 31 | 21 |
| 2 | 92 | 82 | 72 | 62 | 52 | 42 | 32 | 22 |



